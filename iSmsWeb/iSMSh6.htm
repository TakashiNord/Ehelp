<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Заголовок 1 Знак";
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Заголовок 2 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h3
	{mso-style-link:"Заголовок 3 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h4
	{mso-style-link:"Заголовок 4 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-style:italic;}
h5
	{mso-style-link:"Заголовок 5 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;}
h6
	{mso-style-link:"Заголовок 6 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Заголовок 7 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Заголовок 8 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Заголовок 9 Знак";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";
	color:#4F81BD;
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Название Знак";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Название Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Название Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Название Знак";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-link:"Основной текст Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:35.4pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.1
	{mso-style-name:"Заголовок 1 Знак";
	mso-style-link:"Заголовок 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.a
	{mso-style-name:"Основной текст Знак";
	mso-style-link:"Основной текст";
	font-family:"Arial","sans-serif";}
span.2
	{mso-style-name:"Заголовок 2 Знак";
	mso-style-link:"Заголовок 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.3
	{mso-style-name:"Заголовок 3 Знак";
	mso-style-link:"Заголовок 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.4
	{mso-style-name:"Заголовок 4 Знак";
	mso-style-link:"Заголовок 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.5
	{mso-style-name:"Заголовок 5 Знак";
	mso-style-link:"Заголовок 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.6
	{mso-style-name:"Заголовок 6 Знак";
	mso-style-link:"Заголовок 6";
	font-family:"Cambria","serif";
	color:#243F60;
	font-style:italic;}
span.7
	{mso-style-name:"Заголовок 7 Знак";
	mso-style-link:"Заголовок 7";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.8
	{mso-style-name:"Заголовок 8 Знак";
	mso-style-link:"Заголовок 8";
	font-family:"Cambria","serif";
	color:#404040;}
span.9
	{mso-style-name:"Заголовок 9 Знак";
	mso-style-link:"Заголовок 9";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.a0
	{mso-style-name:"Название Знак";
	mso-style-link:Название;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=RU link=blue vlink=purple>

<div class=WordSection1>

<h1>Установка WEB-клиента для РСДУ</h1>

<p class=MsoNormal style='margin-top:6.0pt'>Данный документ описывает настройку
<span lang=EN-US>WEB</span>-клиента РСДУ с подключением к СУБД <span
lang=EN-US>Oracle</span>.</p>

<h2>Настройка <span lang=EN-US>WEB</span><span lang=EN-US> </span>после
установки системы с помощью инсталляционного диска <span lang=EN-US>iSMS</span>.</h2>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Предполагается, что исходная система
была установлена с помощью инсталляционного диска <span lang=EN-US>iSMS</span>.</p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal>Проверить, какие пакеты установлены в текущий момент на
     хосте:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span style='font-family:"Courier New"'>dpkg -l | grep isms</span></p>

<ol style='margin-top:0cm' start=2 type=1>
 <li class=MsoNormal>Для сбора дополнительной информации о состоянии пакета <span
     lang=EN-US>web</span><span lang=EN-US> </span>используйте команду:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span lang=EN-US style='font-family:"Courier New"'>apt-cache
show isms-web</span></p>

<ol style='margin-top:0cm' start=3 type=1>
 <li class=MsoNormal>Удалить предыдущую версию пакета <span lang=EN-US>web</span>:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span style='font-family:"Courier New"'>apt-get purge
isms-web</span></p>

<ol style='margin-top:0cm' start=4 type=1>
 <li class=MsoNormal>Проконтролировать текущее состояние установленных пакетов
     на хосте:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span style='font-family:"Courier New"'>dpkg -l | grep isms</span></p>

<ol style='margin-top:0cm' start=5 type=1>
 <li class=MsoNormal>Установить поддержку клиента <span lang=EN-US>Oracle</span>:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:36.0pt;margin-bottom:.0001pt'><span lang=EN-US style='font-size:
11.0pt;font-family:"Courier New"'>dpkg -i
oracle-instantclient11.2-basic_11.2.0.3.0-2_i386.deb</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:11.0pt;font-family:"Courier New"'>dpkg -i
php5-oci8_5.4.35-1_i386.deb</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span lang=EN-US style='font-size:11.0pt;font-family:"Courier New"'>dpkg
-i php5-pdo-oci_5.4.35-1_i386.deb</span></p>

<ol style='margin-top:0cm' start=6 type=1>
 <li class=MsoNormal>Убедиться в наличии установленных пакетов:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:36.0pt;margin-bottom:.0001pt'><span lang=EN-US style='font-family:
"Courier New"'>dpkg -l | grep php5-oci</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span lang=EN-US style='font-family:"Courier New"'>dpkg -l
| grep php5-pdo</span></p>

<ol style='margin-top:0cm' start=7 type=1>
 <li class=MsoNormal>Установить пакет <span lang=EN-US>rsdu</span>-<span
     lang=EN-US>web</span>, собранный специально для работы с РСДУ:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span lang=EN-US style='font-family:"Courier New"'>dpkg -i
rsdu-web_1.16.2.0-alpha-20160324-173629_all.deb</span></p>

<ol style='margin-top:0cm' start=8 type=1>
 <li class=MsoNormal>Перейти в каталог конфигурации <span lang=EN-US>web</span>:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span style='font-family:"Courier New"'>cd
/home/www-data/www/htdocs/WASUTP/config/</span></p>

<p class=MsoNormal style='margin-left:36.0pt'>Отредактировать конфигурационный
файл <span lang=EN-US>wasutp</span>.<span lang=EN-US>config</span>.<span
lang=EN-US>php</span>, прописав актуальное значение источника БДТИ РСДУ:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span style='font-family:"Courier New"'>nano
wasutp.config.php</span></p>

<ol style='margin-top:0cm' start=9 type=1>
 <li class=MsoNormal>Во время проверки работоспособности клиента <span
     lang=EN-US>WEB</span>, также контролировать лог <span lang=EN-US>apache</span>
     на наличие ошибок:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt'><span lang=EN-US style='font-family:"Courier New"'>tail -n0
-f /var/log/apache2/error.log</span></p>

<b><span style='font-size:13.0pt;font-family:"Cambria","serif";color:#4F81BD'><br
clear=all style='page-break-before:always'>
</span></b>

<h2>Настройка <span lang=EN-US>WEB</span> после чистой установки ОС <span
lang=EN-US>Debian</span> 7</h2>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Предполагается, что исходная система
была установлена с помощью стандартного инсталляционного диска ОС <span
lang=EN-US>Debian</span>.</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Перед началом:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Убедиться,
что разрядность операционной системы соответствует разрядности пакетов</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>uname -a</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>file package.deb</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Проверить
установлены ли какие-либо пакеты</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify'><span style='font-size:9.0pt;font-family:
"Courier New"'>dpkg -l | grep
--regexp=&quot;apache\|php\|isms\|rsdu\|oracle\|libaio\|oci&quot;</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify'>Если имеются старые старые пакеты, можно
попробовать их удалить</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.1pt;text-align:justify'><span style='font-size:9.0pt;font-family:
"Courier New"'>apt-get purge имя-пакета //Удаление пакета вместе с конфигом</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Установить пакеты<span lang=EN-US>: </span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get update</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get install apache2</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get install php5</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get install php5-common</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get install libapache2-mod-php5</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>apt-get install libaio1</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>dpkg -i
oracle-instantclient11.2-basic_11.2.0.3.0-2_i386.deb</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>dpkg -i php5-oci8_5.4.35-1_i386.deb</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>dpkg -i php5-pdo-oci_5.4.35-1_i386.deb</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>dpkg -i rsdu-rtquery-</span><span style='font-size:
9.0pt;font-family:"Courier New"'>номер</span><span lang=EN-US style='font-size:
9.0pt;font-family:"Courier New"'>-</span><span style='font-size:9.0pt;
font-family:"Courier New"'>ревизии</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>mkdir -p /var/log/ema/</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>dpkg --force-all -i rsdu-web-</span><span
style='font-size:9.0pt;font-family:"Courier New"'>номер</span><span lang=EN-US
style='font-size:9.0pt;font-family:"Courier New"'>-</span><span
style='font-size:9.0pt;font-family:"Courier New"'>ревизии</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Выполнить обновление базы данных (если
требуется):</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20140314-colours.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20140314-precision.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20140403-widgets.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20141015-reports.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20141110-gis.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20151217-acl.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20151217-desktop.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.4pt;text-align:justify'><span lang=EN-US style='font-size:9.0pt;
font-family:"Courier New"'>20151217-sequences.sql</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Сконфигурировать файл <span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>home</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>www</span><span
style='font-size:11.0pt'>-</span><span lang=EN-US style='font-size:11.0pt'>data</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>www</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>htdocs</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>WASUTP</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>config</span><span
style='font-size:11.0pt'>/</span><span lang=EN-US style='font-size:11.0pt'>wasutp</span><span
style='font-size:11.0pt'>.</span><span lang=EN-US style='font-size:11.0pt'>config</span><span
style='font-size:11.0pt'>.</span><span lang=EN-US style='font-size:11.0pt'>php</span>:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.85pt;text-align:justify;text-indent:-18.0pt'><span
style='font-family:Wingdings'>&uuml;<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Сконфигурировать параметр 'tns' (лучше всего взять из
tnsnames.ora);</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:53.85pt;text-align:justify;text-indent:-18.0pt'><span
style='font-family:Wingdings'>&uuml;<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Сконфигурировать параметр 'replaceIp' (например вот так:
'replaceIp' =&gt; &quot;i.host_addr&quot;,)</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'>Если что-то не работает, то
рекомендуется выполнить следующие проверки:</p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal style='margin-top:6.0pt;margin-bottom:6.0pt;text-align:
     justify'>Проверка веб-сервера</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>1.1<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Проверка логов веб-сервера</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>tail /var/log/apache2/error.log</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>1.2<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Проверка, запущен ли
веб-сервер apache2</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>service</span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'> </span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'>apache</span><span style='font-size:10.0pt;
font-family:"Courier New"'>2 </span><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>status</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>1.3<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Проверка слушает ли <span
lang=EN-US>apache</span> 80-порт</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>netstat -netulap | grep :80</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>1.4<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Если сервер не запущен,
запустить</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span style='font-size:10.0pt;
font-family:"Courier New"'>service apache2 start</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>1.5<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Если сервер не запускается,
проверить лог (шаг 1)</p>

<ol style='margin-top:0cm' start=2 type=1>
 <li class=MsoNormal style='margin-top:6.0pt;margin-bottom:6.0pt;text-align:
     justify'>Проверка все ли пакеты установлены правильно</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-align:justify'><span style='font-size:10.0pt;
font-family:"Courier New"'>dpkg -l | grep
--regexp=&quot;apache\|php\|isms\|rsdu\|oracle\|libaio\|oci&quot;</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-align:justify'>Если пакет установлен правильно, в
начале строки будет написано: <b>ii</b></p>

<ol style='margin-top:0cm' start=3 type=1>
 <li class=MsoNormal style='margin-top:6.0pt;margin-bottom:6.0pt;text-align:
     justify'>Проверка установленных модулей php (oci8 и pdo-oci):</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'><span lang=EN-US>3.1<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Выполнить команду</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>php -r 'echo phpinfo(8);' | grep oci</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>или раскомментировать строку </p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>//echo phpinfo();die();</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>в файле /home/www-data/www/htdocs/WASUTP/public/index.php
и затем открыть страницу в браузере <a href="http://isms-ip-adress/">http://isms-ip-adress/</a></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>(не забудьте снова закомментировать
строку после  выполненной проверки)</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>3.2<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Если отсутствуют модули oci8
или pdo-oci, нужно проверить, есть ли файлы модулей php5_oci.so и
php5_pdo_oci.so в каталоге модулей. Директорию, где хранятся модули можно
узнать из шага 3.1 (параметр extension_dir)</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>3.3<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Если всё же перечисленные
файлы лежат в указанной директории, следующая команда, возможно, выведет
ошибку, из-за которой данные модули не были установлены</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span style='font-size:10.0pt;
font-family:"Courier New"'>php -v </span></p>

<ol style='margin-top:0cm' start=4 type=1>
 <li class=MsoNormal style='margin-top:6.0pt;margin-bottom:6.0pt;text-align:
     justify'>Проверка подключения к бд с помощью sqlplus</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'><span lang=EN-US>4.1<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Установить <span
lang=EN-US>sqlplus </span>из пакета <span lang=EN-US>oracle-instantclient11.2-sqlplus</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>dpkg -i
oracle-instantclient11.2-basic_11.2.0.3.0-2_i386.deb</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>4.2<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Скачать РАБОЧИЙ конфиг
tnsnames.ora в каталог, например /root</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>4.3<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Установить переменные
окружения</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>Путь к файлу libsqlplus.so:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>export LD_LIBRARY_PATH=/path/to/file/libsqlplus.so</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'>Путь к файлу<span lang=EN-US>:
tnsnames.ora</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>export TNS_ADMIN=/root</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify;text-indent:-18.0pt'>4.4<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Попытаться подключиться в
СУБД Oracle</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>sqlplus &lt;ENTER&gt;</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>user: rsduadmin</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:54.0pt;text-align:justify'><span lang=EN-US style='font-size:10.0pt;
font-family:"Courier New"'>password: passme</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:17.85pt;text-align:justify'><span lang=EN-US>      </span></p>

</div>

</body>

</html>
